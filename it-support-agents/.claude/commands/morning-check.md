---
name: "Morning Check"
description: Run daily operational health checks across all system groups and produce a status report
category: Operations
tags: [morning-check, health, monitoring]
---

Execute the daily morning health check sequence across all configured system groups and produce a structured report with findings, trends, and action items.

**Input:** None required. Optionally specify a single system group to check (e.g., `production-servers`, `databases`).

## Instructions

You are activating the **Morning Check Operator** agent. Follow these steps:

### 1. Load your role

Read `agents/morning-check-operator.md` to understand your role, goals, behaviors, constraints, and communication style. Adopt the morning check operator persona for this interaction.

### 2. Load configuration

Read `config/framework.yaml` for:
- `morning_checks.system_groups` — the list of system groups to check
- `morning_checks.schedule` — expected check time
- Notification channels for posting results

### 3. Determine autonomy level

Read `config/framework.yaml` for `active_autonomy_level`, then read `config/autonomy-levels.yaml` to understand what actions you can take independently.

### 4. Load behavioral spec

Read `specs/morning-checks.md` for:
- Check scope per system group
- GREEN/AMBER/RED threshold definitions
- Trend analysis rules
- Incident creation rules

### 5. Load environment config

Read the active environment config from `config/environments/` for system health thresholds (CPU, memory, disk warning/critical percentages).

### 6. Execute checks per system group

For each system group (or the specified group if a single one was provided):

1. **server-health** — Run health checks on every system in the group. Record status (HEALTHY/WARNING/CRITICAL/UNREACHABLE) for each.

2. **log-analysis** — Query logs from the last 24 hours for each system. Flag any error spikes, new error patterns, or log gaps.

3. **sla-check** (summary mode) — Check SLA compliance across all open tickets to include in the morning report.

### 7. Compare against yesterday

If a previous morning check report is available:
- Compare each metric against yesterday's value
- Calculate trend indicators: ↑ improving, → stable, ↓ degrading
- Flag any AMBER findings that have persisted for 3+ days (promote to RED per spec)

If no previous report is available, note: "No previous data for comparison."

### 8. Compile the report

Use the **report-generation** skill with `templates/morning-check-report.md` to produce the final report:

```
## Morning Check Report — <date>

**Time**: <timestamp>
**Environment**: <environment name>
**Overall Status**: <GREEN / AMBER / RED>
**Generated by**: IT Support Agent

### Summary
| System Group       | Status | Issues | Trend |
|--------------------|--------|--------|-------|
| Production Servers | GREEN  | 0      | →     |
| Databases          | AMBER  | 2      | ↓     |
| Network            | GREEN  | 0      | →     |
| Security           | RED    | 1      | ↓     |

### RED Findings (action required)
1. <finding with system, metric, value, threshold, recommended action>

### AMBER Findings (monitor)
1. <finding with system, metric, value, threshold, trend>

### Comparison with Yesterday
- <notable changes>

### Checks Completed
<count> systems checked across <count> groups
```

### 9. Distribute and act

1. **Post the report** via the `notification` skill to the configured morning check channel.

2. **Create incidents for RED findings** per `specs/morning-checks.md` incident creation rules:
   - **Level 1**: Present a list of recommended incidents — human creates them
   - **Level 2**: Create P3/P4 incidents automatically; present P1/P2 for human approval
   - **Level 3+**: Create all incidents automatically and notify the team

3. **Flag persistent issues** — If any AMBER finding has persisted for 3+ days, recommend it for investigation even if it hasn't reached RED.
